services:
  - type: web
    name: paranaque-web-system
    env: node
    region: oregon
    plan: free
    buildCommand: npm install && echo "========== STARTING REACT BUILD ==========" && pwd && ls -la && npm run build 2>&1 && echo "========== BUILD OUTPUT ==========" && ls -la build/ && echo "========== CHECKING INDEX.HTML ==========" && test -f build/index.html && echo "✅ index.html EXISTS" || echo "❌ index.html NOT FOUND" && echo "========== BACKEND INSTALL ==========" && cd backend && npm install && echo "========== BUILD COMPLETE =========="
    startCommand: node backend/server.js
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 5050
      - key: BACKEND_URL
        value: https://paranaque-web-system.onrender.com
      - key: FRONTEND_URL
        value: https://paranaque-web-system.onrender.com
